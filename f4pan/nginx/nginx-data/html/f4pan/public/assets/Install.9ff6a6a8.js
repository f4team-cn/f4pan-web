import{B as fe,U as ae,p as b,x as j,o as m,e as _,z as w,D as U,n as G,f as r,y as W,I as J,m as P,t as O,J as L,K as Z,g as s,q as X,v as te,h as g,T as me,aw as le,Q as ne,ax as re,a8 as ue,R as ke,a3 as Ee,l as Be,M as Y,d as Ae,r as R,ay as z,al as Pe,i as o,j as I,L as A,s as B,a1 as k,az as De,aA as we,k as Ie,aB as Oe}from"./index.11a12647.js";import{s as Ve}from"./panel.esm.ee925fe8.js";import{s as Te,a as se}from"./image.esm.a2f9ba53.js";import{s as je}from"./progressbar.esm.33b85917.js";import{s as T}from"./divider.esm.d66f1fc9.js";import{s as xe,a as $}from"./column.esm.0cd960b8.js";import{s as ee}from"./radiobutton.esm.2c6d9749.js";import{s as qe}from"./textarea.esm.5236e5af.js";import"./index.esm.b3e12656.js";import"./index.esm.f152c46b.js";import"./dropdown.esm.349dd9e4.js";import"./index.esm.ea66545a.js";var Ue={root:function(t){var a=t.props;return["p-stepper p-component",{"p-stepper-horizontal":a.orientation==="horizontal","p-stepper-vertical":a.orientation==="vertical","p-readonly":a.linear}]},nav:"p-stepper-nav",stepper:{header:function(t){var a=t.instance;t.step;var u=t.index;return["p-stepper-header",{"p-highlight":a.isStepActive(u),"p-disabled":a.isItemDisabled(u)}]},action:"p-stepper-action",number:"p-stepper-number",title:"p-stepper-title",separator:"p-stepper-separator",toggleableContent:"p-stepper-toggleable-content",content:function(t){var a=t.props;return["p-stepper-content",{"p-toggleable-content":a.orientation==="vertical"}]}},panelContainer:"p-stepper-panels",panel:function(t){var a=t.instance,u=t.props,d=t.index;return["p-stepper-panel",{"p-stepper-panel-active":u.orientation==="vertical"&&a.isStepActive(d)}]}},He=fe.extend({name:"stepper",classes:Ue}),Ke={name:"BaseStepper",extends:j,props:{activeStep:{type:Number,default:0},orientation:{type:String,default:"horizontal"},linear:{type:Boolean,default:!1}},style:He,provide:function(){return{$parentInstance:this}}},he={name:"StepperContent",hostName:"Stepper",extends:j,props:{id:null,template:null,ariaLabelledby:null,stepperpanel:null,index:null,active:null,highlighted:null,clickCallback:null,prevCallback:null,nextCallback:null,getStepPT:null}};function H(e){return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(e)}function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,u)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ie(Object(a),!0).forEach(function(u){Me(e,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(a,u))})}return e}function Me(e,t,a){return t=Ne(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ne(e){var t=Le(e,"string");return H(t)=="symbol"?t:String(t)}function Le(e,t){if(H(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var u=a.call(e,t||"default");if(H(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Re=["id","aria-labelledby","data-pc-index","data-p-active"];function ze(e,t,a,u,d,n){return m(),_("div",b({id:a.id,class:e.cx("stepper.content",{stepperpanel:a.stepperpanel,index:a.index}),role:"tabpanel","aria-labelledby":a.ariaLabelledby},oe(oe({},a.getStepPT(a.stepperpanel,"root",a.index)),a.getStepPT(a.stepperpanel,"content",a.index)),{"data-pc-name":"stepperpanel","data-pc-index":a.index,"data-p-active":a.active}),[a.template?(m(),w(U(a.template),{key:0,index:a.index,active:a.active,highlighted:a.highlighted,clickCallback:function(p){return e.onItemClick(p,a.index)},prevCallback:function(p){return a.prevCallback(p,a.index)},nextCallback:function(p){return a.nextCallback(p,a.index)}},null,8,["index","active","highlighted","clickCallback","prevCallback","nextCallback"])):(m(),w(U(a.stepperpanel),{key:1}))],16,Re)}he.render=ze;var ve={name:"StepperHeader",hostName:"Stepper",extends:j,props:{id:null,template:null,stepperpanel:null,index:null,disabled:null,active:null,highlighted:null,ariaControls:null,clickCallback:null,getStepPT:null,getStepProp:null}},Qe=["id","tabindex","aria-controls"];function Je(e,t,a,u,d,n){return a.template?(m(),w(U(a.template),{key:0,index:a.index,active:a.active,highlighted:a.highlighted,class:G(e.cx("stepper.action")),headerClass:e.cx("stepper.action"),numberClass:e.cx("stepper.number"),titleClass:e.cx("stepper.title"),clickCallback:function(p){return a.clickCallback(p,a.index)}},null,8,["index","active","highlighted","class","headerClass","numberClass","titleClass","clickCallback"])):(m(),_("button",b({key:1,id:a.id,class:e.cx("stepper.action"),role:"tab",tabindex:a.disabled?-1:void 0,"aria-controls":a.ariaControls,onClick:t[0]||(t[0]=function(S){return a.clickCallback(S,a.index)})},a.getStepPT(a.stepperpanel,"action",a.index)),[r("span",b({class:e.cx("stepper.number")},a.getStepPT(a.stepperpanel,"number",a.index)),W(a.index+1),17),r("span",b({class:e.cx("stepper.title")},a.getStepPT(a.stepperpanel,"title",a.index)),W(a.getStepProp(a.stepperpanel,"header")),17)],16,Qe))}ve.render=Je;var be={name:"StepperSeparator",hostName:"Stepper",extends:j,props:{template:null,separatorClass:null,stepperpanel:null,index:null,active:null,highlighted:null,getStepPT:null}};function Ge(e,t,a,u,d,n){return a.template?(m(),w(U(a.template),{key:0,class:G(a.separatorClass),index:a.index,active:a.active,highlighted:a.highlighted},null,8,["class","index","active","highlighted"])):(m(),_("span",b({key:1,class:a.separatorClass,"aria-hidden":"true"},a.getStepPT),null,16))}be.render=Ge;var ye={name:"Stepper",extends:Ke,inheritAttrs:!1,emits:["update:activeStep","step-change"],data:function(){return{id:this.$attrs.id,d_activeStep:this.activeStep}},watch:{"$attrs.id":function(t){this.id=t||ae()},activeStep:function(t){this.d_activeStep=t}},mounted:function(){this.id=this.id||ae()},methods:{isStep:function(t){return t.type.name==="StepperPanel"},isStepActive:function(t){return this.d_activeStep===t},getStepProp:function(t,a){return t.props?t.props[a]:void 0},getStepKey:function(t,a){return this.getStepProp(t,"header")||a},getStepHeaderActionId:function(t){return"".concat(this.id,"_").concat(t,"_header_action")},getStepContentId:function(t){return"".concat(this.id,"_").concat(t,"_content")},getStepPT:function(t,a,u){var d=this.stepperpanels.length,n={props:t.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:u,count:d,first:u===0,last:u===d-1,active:this.isStepActive(u),highlighted:u<this.d_activeStep,disabled:this.isItemDisabled(u)}};return b(this.ptm("stepperpanel.".concat(a),{stepperpanel:n}),this.ptm("stepperpanel.".concat(a),n),this.ptmo(this.getStepProp(t,"pt"),a,n))},updateActiveStep:function(t,a){this.d_activeStep=a,this.$emit("update:activeStep",a),this.$emit("step-change",{originalEvent:t,index:a})},onItemClick:function(t,a){if(this.linear){t.preventDefault();return}a!==this.d_activeStep&&this.updateActiveStep(t,a)},isItemDisabled:function(t){return this.linear&&!this.isStepActive(t)},prevCallback:function(t,a){a!==0&&this.updateActiveStep(t,a-1)},nextCallback:function(t,a){a!==this.stepperpanels.length-1&&this.updateActiveStep(t,a+1)}},computed:{stepperpanels:function(){var t=this;return this.$slots.default().reduce(function(a,u){return t.isStep(u)?a.push(u):u.children&&u.children instanceof Array&&u.children.forEach(function(d){t.isStep(d)&&a.push(d)}),a},[])}},components:{StepperContent:he,StepperHeader:ve,StepperSeparator:be}};function K(e){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(e)}function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,u)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ce(Object(a),!0).forEach(function(u){We(e,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(a,u))})}return e}function We(e,t,a){return t=Xe(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xe(e){var t=Ye(e,"string");return K(t)=="symbol"?t:String(t)}function Ye(e,t){if(K(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var u=a.call(e,t||"default");if(K(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ze=["aria-current","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],$e=["aria-current","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"];function et(e,t,a,u,d,n){var S=J("StepperHeader"),p=J("StepperSeparator"),y=J("StepperContent");return m(),_("div",b({class:e.cx("root"),role:"tablist"},e.ptmi("root")),[e.$slots.start?P(e.$slots,"start",{key:0}):O("",!0),e.orientation==="horizontal"?(m(),_(L,{key:1},[r("ul",b({ref:"nav",class:e.cx("nav")},e.ptm("nav")),[(m(!0),_(L,null,Z(n.stepperpanels,function(f,l){return m(),_("li",b({key:n.getStepKey(f,l),class:e.cx("stepper.header",{step:f,index:l}),"aria-current":n.isStepActive(l)?"step":void 0,role:"presentation"},Q(Q({},n.getStepPT(f,"root",l)),n.getStepPT(f,"header",l)),{"data-pc-name":"stepperpanel","data-p-highlight":n.isStepActive(l),"data-p-disabled":n.isItemDisabled(l),"data-pc-index":l,"data-p-active":n.isStepActive(l)}),[P(e.$slots,"header",{},function(){var h;return[s(S,{id:n.getStepHeaderActionId(l),template:(h=f.children)===null||h===void 0?void 0:h.header,stepperpanel:f,index:l,disabled:n.isItemDisabled(l),active:n.isStepActive(l),highlighted:l<d.d_activeStep,class:G(e.cx("stepper.action")),"aria-controls":n.getStepContentId(l),clickCallback:function(C){return n.onItemClick(C,l)},getStepPT:n.getStepPT,getStepProp:n.getStepProp,unstyled:e.unstyled},null,8,["id","template","stepperpanel","index","disabled","active","highlighted","class","aria-controls","clickCallback","getStepPT","getStepProp","unstyled"])]}),l!==n.stepperpanels.length-1?P(e.$slots,"separator",{key:0},function(){var h;return[s(p,{template:(h=f.children)===null||h===void 0?void 0:h.separator,separatorClass:e.cx("stepper.separator"),stepperpanel:f,index:l,active:n.isStepActive(l),highlighted:l<d.d_activeStep,getStepPT:n.getStepPT(f,"separator",l),unstyled:e.unstyled},null,8,["template","separatorClass","stepperpanel","index","active","highlighted","getStepPT","unstyled"])]}):O("",!0)],16,Ze)}),128))],16),r("div",b({class:e.cx("panelContainer")},e.ptm("panelContainer")),[(m(!0),_(L,null,Z(n.stepperpanels,function(f,l){var h;return X((m(),w(y,{key:n.getStepKey(f,l),id:n.getStepContentId(l),template:f==null||(h=f.children)===null||h===void 0?void 0:h.content,stepperpanel:f,index:l,active:n.isStepActive(l),highlighted:l<d.d_activeStep,clickCallback:function(C){return n.onItemClick(C,l)},prevCallback:function(C){return n.prevCallback(C,l)},nextCallback:function(C){return n.nextCallback(C,l)},getStepPT:n.getStepPT,"aria-labelledby":n.getStepHeaderActionId(l),unstyled:e.unstyled},null,8,["id","template","stepperpanel","index","active","highlighted","clickCallback","prevCallback","nextCallback","getStepPT","aria-labelledby","unstyled"])),[[te,n.isStepActive(l)]])}),128))],16)],64)):e.orientation==="vertical"?(m(!0),_(L,{key:2},Z(n.stepperpanels,function(f,l){return m(),_("div",b({ref_for:!0,ref:"nav",key:n.getStepKey(f,l),class:e.cx("panel",{step:f,index:l}),"aria-current":n.isStepActive(l)?"step":void 0},Q(Q({},n.getStepPT(f,"root",l)),n.getStepPT(f,"panel",l)),{"data-pc-name":"stepperpanel","data-p-highlight":n.isStepActive(l),"data-p-disabled":n.isItemDisabled(l),"data-pc-index":l,"data-p-active":n.isStepActive(l)}),[r("div",b({class:e.cx("stepper.header",{step:f,index:l})},n.getStepPT(f,"header",l)),[P(e.$slots,"header",{},function(){var h;return[s(S,{id:n.getStepHeaderActionId(l),template:(h=f.children)===null||h===void 0?void 0:h.header,stepperpanel:f,index:l,disabled:n.isItemDisabled(l),active:n.isStepActive(l),highlighted:l<d.d_activeStep,class:G(e.cx("stepper.action")),"aria-controls":n.getStepContentId(l),clickCallback:function(C){return n.onItemClick(C,l)},getStepPT:n.getStepPT,getStepProp:n.getStepProp},null,8,["id","template","stepperpanel","index","disabled","active","highlighted","class","aria-controls","clickCallback","getStepPT","getStepProp"])]})],16),s(me,b({name:"p-toggleable-content"},n.getStepPT(f,"transition",l)),{default:g(function(){return[X(r("div",b({class:e.cx("stepper.toggleableContent")},n.getStepPT(f,"toggleableContent",l)),[l!==n.stepperpanels.length-1?P(e.$slots,"separator",{key:0},function(){var h;return[s(p,{template:(h=f.children)===null||h===void 0?void 0:h.separator,separatorClass:e.cx("stepper.separator"),stepperpanel:f,index:l,active:n.isStepActive(l),highlighted:l<d.d_activeStep,getStepPT:n.getStepPT(f,"separator",l)},null,8,["template","separatorClass","stepperpanel","index","active","highlighted","getStepPT"])]}):O("",!0),P(e.$slots,"content",{},function(){var h;return[s(y,{id:n.getStepContentId(l),template:f==null||(h=f.children)===null||h===void 0?void 0:h.content,stepperpanel:f,index:l,active:n.isStepActive(l),highlighted:l<d.d_activeStep,clickCallback:function(C){return n.onItemClick(C,l)},prevCallback:function(C){return n.prevCallback(C,l)},nextCallback:function(C){return n.nextCallback(C,l)},getStepPT:n.getStepPT,"aria-labelledby":n.getStepHeaderActionId(l)},null,8,["id","template","stepperpanel","index","active","highlighted","clickCallback","prevCallback","nextCallback","getStepPT","aria-labelledby"])]})],16),[[te,n.isStepActive(l)]])]}),_:2},1040)],16,$e)}),128)):O("",!0),e.$slots.end?P(e.$slots,"end",{key:3}):O("",!0)],16)}ye.render=et;var tt={},at={name:"BaseStepperPanel",extends:j,props:{header:null},style:tt,provide:function(){return{$parentInstance:this}}},x={name:"StepperPanel",extends:at};function lt(e,t,a,u,d,n){return P(e.$slots,"default")}x.render=lt;var nt={root:function(t){var a=t.props;return"p-message p-component p-message-"+a.severity},wrapper:"p-message-wrapper",icon:"p-message-icon",text:"p-message-text",closeButton:"p-message-close p-link",closeIcon:"p-message-close-icon"},rt=fe.extend({name:"message",classes:nt}),ut={name:"BaseMessage",extends:j,props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},life:{type:Number,default:3e3},icon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},closeButtonProps:{type:null,default:null}},style:rt,provide:function(){return{$parentInstance:this}}},q={name:"Message",extends:ut,inheritAttrs:!1,emits:["close","life-end"],timeout:null,data:function(){return{visible:!0}},watch:{sticky:function(t){t||this.closeAfterDelay()}},mounted:function(){this.sticky||this.closeAfterDelay()},methods:{close:function(t){this.visible=!1,this.$emit("close",t)},closeAfterDelay:function(){var t=this;setTimeout(function(){t.visible=!1,t.$emit("life-end")},this.life)}},computed:{iconComponent:function(){return{info:le,success:ne,warn:re,error:ue}[this.severity]},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:ke},components:{TimesIcon:Ee,InfoCircleIcon:le,CheckIcon:ne,ExclamationTriangleIcon:re,TimesCircleIcon:ue}};function M(e){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(e)}function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,u)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?de(Object(a),!0).forEach(function(u){st(e,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(a,u))})}return e}function st(e,t,a){return t=it(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function it(e){var t=ot(e,"string");return M(t)=="symbol"?t:String(t)}function ot(e,t){if(M(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var u=a.call(e,t||"default");if(M(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ct=["aria-label"];function dt(e,t,a,u,d,n){var S=J("TimesIcon"),p=Be("ripple");return m(),w(me,b({name:"p-message",appear:""},e.ptmi("transition")),{default:g(function(){return[X(r("div",b({class:e.cx("root"),role:"alert","aria-live":"assertive","aria-atomic":"true"},e.ptm("root")),[e.$slots.container?P(e.$slots,"container",{key:0,onClose:n.close,closeCallback:n.close}):(m(),_("div",b({key:1,class:e.cx("wrapper")},e.ptm("wrapper")),[P(e.$slots,"messageicon",{class:"p-message-icon"},function(){return[(m(),w(U(e.icon?"span":n.iconComponent),b({class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16,["class"]))]}),r("div",b({class:["p-message-text",e.cx("text")]},e.ptm("text")),[P(e.$slots,"default")],16),e.closable?X((m(),_("button",b({key:0,class:e.cx("closeButton"),"aria-label":n.closeAriaLabel,type:"button",onClick:t[0]||(t[0]=function(y){return n.close(y)})},V(V(V({},e.closeButtonProps),e.ptm("button")),e.ptm("closeButton"))),[P(e.$slots,"closeicon",{},function(){return[e.closeIcon?(m(),_("i",b({key:0,class:[e.cx("closeIcon"),e.closeIcon]},V(V({},e.ptm("buttonIcon")),e.ptm("closeIcon"))),null,16)):(m(),w(S,b({key:1,class:[e.cx("closeIcon"),e.closeIcon]},V(V({},e.ptm("buttonIcon")),e.ptm("closeIcon"))),null,16,["class"]))]})],16,ct)),[[p]]):O("",!0)],16))],16),[[te,d.visible]])]}),_:3},16)}q.render=dt;function pt(){return Y({url:"/install/check_env"})}function ft(e){return Y({url:"/install/test_db",method:"POST",data:e})}function mt(e){return Y({url:"/install/test_redis",method:"POST",data:e})}function ht(e){return Y({url:"/install/install",method:"POST",data:e})}function pe(e,t){return e in t}const v=e=>(De("data-v-e22134ff"),e=e(),we(),e),vt={class:"main-container"},bt={class:"main"},yt={class:"card flex justify-content-center"},gt={class:"flex justify-content-center align-items-center"},Ct=v(()=>r("div",{class:"flex flex-column border-2 border-dashed surface-border border-round surface-ground px-3 py-3 flex-auto font-medium"},[r("p",{class:"par"},[A("\u6B22\u8FCE\u4F7F\u7528 "),r("code",null,"F4Pan"),A(" \u5B89\u88C5\u7A0B\u5E8F\uFF0C\u4F60\u5728\u5B89\u88C5\u672C\u7A0B\u5E8F\u524D\uFF0C\u5E94\u5148\u9605\u8BFB\u6211\u4EEC\u7684"),r("a",{href:"https://github.com/f4team-cn/f4pan",target:"_blank"},"\u5F00\u6E90\u534F\u8BAE\u53CA\u514D\u8D23\u58F0\u660E"),A("\uFF0C\u4EE5\u9632\u5236\u9020\u4E0D\u5FC5\u8981\u7684\u9EBB\u70E6\u3002 \u5F53\u4F60\u70B9\u51FB "),r("code",null,"\u4E0B\u4E00\u6B65"),A(" \u6309\u94AE\u65F6\uFF0C\u5219\u4EE3\u8868\u4F60\u5DF2\u7ECF\u9605\u8BFB\u5E76\u540C\u610F\u4E86\u6211\u4EEC\u7684\u6761\u6B3E\uFF01 ")])],-1)),St={class:"flex pt-4 justify-content-end"},_t={class:"flex flex-column border-2 border-dashed surface-border border-round surface-ground flex-auto px-3 py-3"},Ft={class:"flex-grow-1 overflow-y-auto"},kt={class:"flex justify-content-end"},Et={class:"flex pt-4 justify-content-between"},Bt={class:"flex flex-column border-2 border-dashed surface-border border-round surface-ground flex-auto font-medium px-3 py-3"},At=v(()=>r("strong",null,"MySQL",-1)),Pt={class:"p-fluid"},Dt={class:"formgrid grid"},wt={class:"field col"},It=v(()=>r("label",{for:"host"},"\u4E3B\u673A",-1)),Ot={class:"field col"},Vt=v(()=>r("label",{for:"port"},"\u7AEF\u53E3",-1)),Tt={class:"field"},jt=v(()=>r("label",{for:"database"},"\u6570\u636E\u5E93\u540D",-1)),xt={class:"field"},qt=v(()=>r("label",{for:"username"},"\u7528\u6237\u540D",-1)),Ut={class:"field"},Ht=v(()=>r("label",{for:"password"},"\u5BC6\u7801",-1)),Kt={class:"flex justify-content-start align-items-center"},Mt=v(()=>r("strong",null,"Redis",-1)),Nt={class:"p-fluid"},Lt={class:"formgrid grid"},Rt={class:"field col"},zt=v(()=>r("label",{for:"host"},"\u4E3B\u673A",-1)),Qt={class:"field col"},Jt=v(()=>r("label",{for:"port"},"\u7AEF\u53E3",-1)),Gt={class:"field"},Wt=v(()=>r("label",{for:"password"},"\u5BC6\u7801",-1)),Xt={class:"flex justify-content-start align-items-center"},Yt=v(()=>r("strong",null,"F4Pan",-1)),Zt={class:"p-fluid"},$t={class:"field"},ea=v(()=>r("label",{for:"require"},"\u89E3\u6790\u5BC6\u94A5",-1)),ta={class:"grid"},aa={class:"col-12 md:col-4"},la={class:"field-radiobutton mb-0"},na=v(()=>r("label",{for:"dynamic"},"\u52A8\u6001\u5BC6\u94A5",-1)),ra={class:"col-12 md:col-4"},ua={class:"field-radiobutton mb-0"},sa=v(()=>r("label",{for:"fixed"},"\u56FA\u5B9A\u5BC6\u94A5",-1)),ia={class:"col-12 md:col-4"},oa={class:"field-radiobutton mb-0"},ca=v(()=>r("label",{for:"none"},"\u65E0",-1)),da={key:0,class:"field"},pa=v(()=>r("label",{for:"fixed-key"},"\u56FA\u5B9A\u5BC6\u94A5",-1)),fa={class:"field"},ma=v(()=>r("label",{for:"password"},"\u7BA1\u7406\u5458\u5BC6\u7801",-1)),ha={class:"field"},va=v(()=>r("label",{for:"dynamic-key-timeout"},[A("\u52A8\u6001\u5BC6\u94A5\u6709\u6548\u65F6\u957F"),r("code",null,"(\u79D2)")],-1)),ba={class:"field"},ya=v(()=>r("label",{for:"real-url-timeout"},[A("\u771F\u5B9E\u94FE\u63A5\u5B58\u50A8\u65F6\u95F4"),r("code",null,"(\u79D2)")],-1)),ga={class:"field"},Ca=v(()=>r("label",{for:"user-agent"},[A("\u89E3\u6790 UA"),r("code",null,"(UA \u4E2D\u7684\u4EA7\u54C1\u6807\u8BC6\u5FC5\u987B\u4E3A\uFF1Anetdisk)")],-1)),Sa={class:"field"},_a=v(()=>r("label",{for:"cookie"},"Cookie",-1)),Fa={class:"flex pt-4 justify-content-between"},ka={key:0,class:"flex flex-column mt-2"},Ea={class:"border-2 border-dashed surface-border border-round surface-ground font-medium px-3 py-3"},Ba={class:"flex justify-content-center align-items-center"},Aa=v(()=>r("i",{class:"pi pi-check mx-2"},null,-1)),Pa=v(()=>r("p",{class:"par"},[A("\u7CFB\u7EDF\u5B89\u88C5\u6210\u529F\uFF0C\u4F60\u73B0\u5728\u53EF\u4EE5"),r("a",{href:"/",class:"mx-2"},[r("strong",null,"\u70B9\u51FB\u6B64\u5904")]),A("\u8DF3\u8F6C\u524D\u53F0\u3002\u5728\u4F7F\u7528\u672C\u7A0B\u5E8F\u7684\u8FC7\u7A0B\u7684\uFF0C\u4ECD\u8981\u9075\u4ECE\u5F00\u6E90\u534F\u8BAE\u4EE5\u53CA\u56FD\u5BB6\u6CD5\u5F8B\u6CD5\u89C4\uFF01")],-1)),Da={class:"flex pt-4 justify-content-start"},wa=Ae({__name:"Install",setup(e){const t=R(!1),a=R(!1),u=Ie(),d=R(!1),n=z({mysql:"wait",redis:"wait"}),S=R([{name:"PHP",require:">=8.0",has:!0},{name:"PDO_Mysql",require:"\u65E0\u9650\u5236",has:!1},{name:"PHP-Redis",require:"\u65E0\u9650\u5236",has:!1},{name:"PHP-Curl",require:"\u65E0\u9650\u5236",has:!1}]),p=z({hostname:"localhost",port:"3306",username:"",password:"",database:""}),y=z({hostname:"localhost",port:"6379",password:""}),f=Pe({get:()=>S.value.filter(F=>!F.has).length===0,set:F=>{}}),l=z({admin_password:"",fixed_key:"",key_last_time:"300",normal_cookie:"",parse_ua:"netdisk",real_url_last_time:"1800",requires_key:"dynamic"}),h=(F,i)=>{const E=Ce();u.default("\u5F00\u59CB\u5B89\u88C5\u2026\u2026"),t.value=!0,ht(E).then(()=>{a.value=!0,u.success("\u5B89\u88C5\u6210\u529F\uFF01")}).catch(()=>{F(i),u.warn("\u5B89\u88C5\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u73AF\u5883\u914D\u7F6E\u662F\u5426\u6B63\u786E\uFF01")}).finally(()=>t.value=!1)},D=async()=>{try{d.value=!0,u.default("\u6B63\u5728\u68C0\u67E5\u73AF\u5883\u2026\u2026");const{data:F}=await pt(),{data:i}=F;S.value[1].has=i.ext.pdo_mysql,S.value[2].has=i.ext.redis,S.value[3].has=i.ext.curl,u.success("\u73AF\u5883\u68C0\u67E5\u6210\u529F\uFF01")}catch{u.warn("\u73AF\u5883\u68C0\u67E5\u5931\u8D25\uFF01")}finally{d.value=!1}},C=F=>{F.index===1&&D()},ge=(F,i,E)=>{if(k(p.hostname)||k(p.port)||k(p.database)||k(p.username)||p.port==="0"){u.warn("\u8BF7\u6B63\u786E\u586B\u5199 MySQL \u6570\u636E\u5E93\u4FE1\u606F\uFF01");return}if(k(y.hostname)||k(y.port)||y.port==="0"){u.warn("\u8BF7\u6B63\u786E\u586B\u5199 Redis \u6570\u636E\u5E93\u4FE1\u606F\uFF01");return}if(n.mysql!=="open"||n.redis!=="open"){u.warn("\u8BF7\u5148\u786E\u4FDD MySQL \u548C Redis \u80FD\u8FDE\u63A5\uFF0C\u8BF7\u70B9\u51FB\u6D4B\u8BD5\u8FDE\u63A5\u6309\u94AE\uFF01");return}if(Object.entries(l).filter(([c])=>c!=="fixed_key").filter(([c,Fe])=>k(Fe)).length!==0){u.warn("\u8BF7\u6B63\u786E\u586B\u5199 F4Pan \u7CFB\u7EDF\u4FE1\u606F\uFF01");return}if(l.requires_key==="fixed"&&k(l.fixed_key)){u.warn("\u5BC6\u94A5\u6A21\u5F0F\u4E3A \u56FA\u5B9A \u65F6\uFF0C\u56FA\u5B9A\u5BC6\u94A5\u4E0D\u80FD\u4E3A\u7A7A\uFF01");return}F(E),setTimeout(()=>h(i,E),500)},Ce=()=>{const F={...l};for(let i in p)pe(i,p)&&(F[`db_${i}`]=p[i]);for(let i in y)pe(i,y)&&(F[`redis_${i}`]=y[i]||"");return F},Se=async()=>{if(k(p.hostname)||k(p.port)||k(p.database)||k(p.username)||p.port==="0"){u.warn("\u8BF7\u6B63\u786E\u586B\u5199 MySQL \u6570\u636E\u5E93\u4FE1\u606F\uFF01");return}try{d.value=!0,await ft(p),u.success("\u6D4B\u8BD5\u8FDE\u63A5\u6210\u529F\uFF01"),n.mysql="open"}catch{u.error("\u6D4B\u8BD5\u8FDE\u63A5\u5931\u8D25\uFF01"),n.mysql="close"}finally{d.value=!1}},_e=async()=>{if(k(y.hostname)||k(y.port)||y.port==="0"){u.warn("\u8BF7\u6B63\u786E\u586B\u5199 Redis \u6570\u636E\u5E93\u4FE1\u606F\uFF01");return}try{d.value=!0,await mt(y),u.success("\u6D4B\u8BD5\u8FDE\u63A5\u6210\u529F\uFF01"),n.redis="open"}catch{u.error("\u6D4B\u8BD5\u8FDE\u63A5\u5931\u8D25\uFF01"),n.redis="close"}finally{d.value=!1}};return(F,i)=>(m(),_("div",vt,[r("div",bt,[s(o(Ve),{header:"\u5B89\u88C5\u7A0B\u5E8F - F4Pan"},{default:g(()=>[r("div",yt,[s(o(ye),{linear:"",onStepChange:C,orientation:"vertical"},{start:g(()=>[r("div",gt,[s(o(Te),{src:"https://www.f4team.cn/logo/logo-hdpi.png",width:"120"})])]),default:g(()=>[s(o(x),{header:"\u4ECB\u7ECD"},{content:g(({nextCallback:E})=>[Ct,r("div",St,[s(o(I),{label:"\u4E0B\u4E00\u6B65",icon:"pi pi-arrow-right",iconPos:"right",onClick:E,disabled:d.value},null,8,["onClick","disabled"])])]),_:1}),s(o(x),{header:"\u73AF\u5883\u68C0\u67E5"},{content:g(({prevCallback:E,nextCallback:N})=>[r("div",_t,[s(o(q),{closable:!1},{default:g(()=>[A("\u4E3A\u4E86\u786E\u4FDD\u5B89\u88C5\u80FD\u6B63\u5E38\u8FDB\u884C\uFF0C\u672C\u7A0B\u5E8F\u9700\u8981\u4EE5\u4E0B\u73AF\u5883\u3002")]),_:1}),s(o(T)),r("div",Ft,[s(o(xe),{value:S.value,class:"h-full"},{default:g(()=>[s(o($),{field:"name",header:"\u7A0B\u5E8F"}),s(o($),{field:"require",header:"\u8981\u6C42"}),s(o($),{header:"\u662F\u5426\u6EE1\u8DB3"},{body:g(({data:c})=>[c.has?(m(),w(o(se),{key:0,severity:"success",value:"\u6EE1\u8DB3"})):(m(),w(o(se),{key:1,severity:"warning",value:"\u4E0D\u6EE1\u8DB3"}))]),_:1})]),_:1},8,["value"])]),s(o(T)),r("div",kt,[s(o(I),{severity:"info",label:"\u91CD\u65B0\u68C0\u67E5",loading:d.value,onClick:D},null,8,["loading"])])]),r("div",Et,[s(o(I),{label:"\u4E0A\u4E00\u6B65",severity:"secondary",icon:"pi pi-arrow-left",onClick:E},null,8,["onClick"]),s(o(I),{label:"\u4E0B\u4E00\u6B65",icon:"pi pi-arrow-right",iconPos:"right",loading:d.value,disabled:!f.value,onClick:N},null,8,["loading","disabled","onClick"])])]),_:1}),s(o(x),{header:"\u73AF\u5883\u914D\u7F6E"},{content:g(({prevCallback:E,nextCallback:N})=>[r("div",Bt,[s(o(T),{align:"left",type:"solid"},{default:g(()=>[At]),_:1}),r("div",Pt,[r("div",Dt,[r("div",wt,[It,s(o(B),{type:"text",modelValue:p.hostname,"onUpdate:modelValue":i[0]||(i[0]=c=>p.hostname=c)},null,8,["modelValue"])]),r("div",Ot,[Vt,s(o(B),{type:"number",modelValue:p.port,"onUpdate:modelValue":i[1]||(i[1]=c=>p.port=c)},null,8,["modelValue"])])]),r("div",Tt,[jt,s(o(B),{type:"text",modelValue:p.database,"onUpdate:modelValue":i[2]||(i[2]=c=>p.database=c)},null,8,["modelValue"])]),r("div",xt,[qt,s(o(B),{type:"text",modelValue:p.username,"onUpdate:modelValue":i[3]||(i[3]=c=>p.username=c)},null,8,["modelValue"])]),r("div",Ut,[Ht,s(o(B),{type:"password",modelValue:p.password,"onUpdate:modelValue":i[4]||(i[4]=c=>p.password=c)},null,8,["modelValue"])])]),r("div",Kt,[s(o(I),{label:"\u6D4B\u8BD5\u8FDE\u63A5",style:{"max-height":"34px"},onClick:Se}),s(o(q),{closable:!1,class:"ml-2",severity:n.mysql==="open"?"success":n.mysql==="close"?"error":"contrast"},{default:g(()=>[A(" \u8FDE\u63A5\u72B6\u6001\uFF1A"+W(n.mysql==="open"?"\u6210\u529F":n.mysql==="close"?"\u5931\u8D25":"\u672A\u77E5"),1)]),_:1},8,["severity"])]),s(o(T),{align:"left",type:"solid"},{default:g(()=>[Mt]),_:1}),r("div",Nt,[r("div",Lt,[r("div",Rt,[zt,s(o(B),{type:"text",modelValue:y.hostname,"onUpdate:modelValue":i[5]||(i[5]=c=>y.hostname=c)},null,8,["modelValue"])]),r("div",Qt,[Jt,s(o(B),{type:"number",modelValue:y.port,"onUpdate:modelValue":i[6]||(i[6]=c=>y.port=c)},null,8,["modelValue"])])]),r("div",Gt,[Wt,s(o(B),{type:"password",modelValue:y.password,"onUpdate:modelValue":i[7]||(i[7]=c=>y.password=c)},null,8,["modelValue"])])]),r("div",Xt,[s(o(I),{label:"\u6D4B\u8BD5\u8FDE\u63A5",style:{"max-height":"34px"},onClick:_e}),s(o(q),{closable:!1,class:"ml-2",severity:n.redis==="open"?"success":n.redis==="close"?"error":"contrast"},{default:g(()=>[A(" \u8FDE\u63A5\u72B6\u6001\uFF1A"+W(n.redis==="open"?"\u6210\u529F":n.redis==="close"?"\u5931\u8D25":"\u672A\u77E5"),1)]),_:1},8,["severity"])]),s(o(T),{align:"left",type:"solid"},{default:g(()=>[Yt]),_:1}),r("div",Zt,[r("div",$t,[ea,r("div",ta,[r("div",aa,[r("div",la,[s(o(ee),{value:"dynamic",modelValue:l.requires_key,"onUpdate:modelValue":i[8]||(i[8]=c=>l.requires_key=c)},null,8,["modelValue"]),na])]),r("div",ra,[r("div",ua,[s(o(ee),{value:"fixed",modelValue:l.requires_key,"onUpdate:modelValue":i[9]||(i[9]=c=>l.requires_key=c)},null,8,["modelValue"]),sa])]),r("div",ia,[r("div",oa,[s(o(ee),{value:"none",modelValue:l.requires_key,"onUpdate:modelValue":i[10]||(i[10]=c=>l.requires_key=c)},null,8,["modelValue"]),ca])])])]),l.requires_key==="fixed"?(m(),_("div",da,[pa,s(o(B),{type:"text",modelValue:l.fixed_key,"onUpdate:modelValue":i[11]||(i[11]=c=>l.fixed_key=c)},null,8,["modelValue"])])):O("",!0),r("div",fa,[ma,s(o(B),{type:"password",modelValue:l.admin_password,"onUpdate:modelValue":i[12]||(i[12]=c=>l.admin_password=c)},null,8,["modelValue"])]),r("div",ha,[va,s(o(B),{type:"number",modelValue:l.key_last_time,"onUpdate:modelValue":i[13]||(i[13]=c=>l.key_last_time=c)},null,8,["modelValue"])]),r("div",ba,[ya,s(o(B),{type:"number",modelValue:l.real_url_last_time,"onUpdate:modelValue":i[14]||(i[14]=c=>l.real_url_last_time=c)},null,8,["modelValue"])]),r("div",ga,[Ca,s(o(B),{type:"text",modelValue:l.parse_ua,"onUpdate:modelValue":i[15]||(i[15]=c=>l.parse_ua=c)},null,8,["modelValue"])]),r("div",Sa,[_a,s(o(qe),{placeholder:"",autoResize:!0,rows:"3",cols:"30",modelValue:l.normal_cookie,"onUpdate:modelValue":i[16]||(i[16]=c=>l.normal_cookie=c)},null,8,["modelValue"])])])]),r("div",Fa,[s(o(I),{label:"\u4E0A\u4E00\u6B65",severity:"secondary",icon:"pi pi-arrow-left",onClick:E},null,8,["onClick"]),s(o(I),{label:"\u4E0B\u4E00\u6B65",icon:"pi pi-arrow-right",iconPos:"right",loading:d.value,onClick:c=>ge(N,E,c)},null,8,["loading","onClick"])])]),_:1}),s(o(x),{header:"\u5F00\u59CB\u5B89\u88C5"},{content:g(({prevCallback:E})=>[s(o(je),{value:100,mode:t.value?"indeterminate":"determinate",style:{height:"15px"}},null,8,["mode"]),a.value?(m(),_("div",ka,[r("div",Ea,[r("div",Ba,[s(o(q),{closable:!1},{messageicon:g(()=>[Aa]),default:g(()=>[A("\u5B89\u88C5\u6210\u529F ")]),_:1})]),s(o(T)),Pa])])):O("",!0),r("div",Da,[s(o(I),{label:"\u4E0A\u4E00\u6B65",severity:"secondary",icon:"pi pi-arrow-left",disabled:t.value||a.value,onClick:E},null,8,["disabled","onClick"])])]),_:1})]),_:1})])]),_:1})])]))}});const La=Oe(wa,[["__scopeId","data-v-e22134ff"]]);export{La as default};
